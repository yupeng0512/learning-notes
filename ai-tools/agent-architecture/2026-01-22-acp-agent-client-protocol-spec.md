---
title: ACP åè®®è¯¦è§£ - Agent ä¸ç¼–è¾‘å™¨çš„é€šç”¨é€šä¿¡æ ‡å‡†
source: 
  - https://agentclientprotocol.com/
  - https://zed.dev/
author: Zed Industries
date: 2026-01-22
category: ai-tools
tags: [ACP, Agent Protocol, MCP, LSP, Zed, JSON-RPC, ç¼–è¾‘å™¨é›†æˆ]
---

# ACP åè®®è¯¦è§£ - Agent ä¸ç¼–è¾‘å™¨çš„é€šç”¨é€šä¿¡æ ‡å‡†

> ğŸ“– åŸæ–‡ï¼š[Agent Client Protocol](https://agentclientprotocol.com/)
> ğŸ“… å­¦ä¹ æ—¥æœŸï¼š2026-01-22
> ğŸ·ï¸ åˆ†ç±»ï¼šAgent æ¶æ„

---

## æ ¹èŠ‚ç‚¹å‘½é¢˜

**ACP (Agent Client Protocol) = Agent-Editor é€šä¿¡çš„ USB æ ‡å‡†**

æ ¸å¿ƒå…¬å¼ï¼š
```
N ä¸ªç¼–è¾‘å™¨ Ã— M ä¸ª Agent = NÃ—M ä¸ªé€‚é…å™¨  â†’  æ ‡å‡†åŒ–å = N + M ä¸ªå®ç°
```

ACP ä¹‹äº Agentï¼Œå¦‚åŒ LSP ä¹‹äºè¯­è¨€æœåŠ¡å™¨â€”â€”å®šä¹‰æ ‡å‡†æ¥å£ï¼Œå®ç°å³æ’å³ç”¨ã€‚

---

## ä¸€å¥è¯æ€»ç»“

ACP æ˜¯ **Zed ä¸»å¯¼çš„å¼€æ”¾åè®®**ï¼ŒåŸºäº JSON-RPC 2.0ï¼Œå®šä¹‰äº† AI ç¼–ç¨‹ Agent ä¸ä»£ç ç¼–è¾‘å™¨ä¹‹é—´çš„æ ‡å‡†åŒ–é€šä¿¡æ–¹å¼ï¼Œè§£å†³äº†æ¯ä¸ª Agent éœ€è¦ä¸ºæ¯ä¸ªç¼–è¾‘å™¨å•ç‹¬é€‚é…çš„ç¢ç‰‡åŒ–é—®é¢˜ã€‚

---

## æ ¸å¿ƒæ¦‚å¿µ

| æ¦‚å¿µ | å®šä¹‰ | ç±»æ¯” |
|------|------|------|
| **ACP** | Agent Client Protocolï¼ŒAgent-ç¼–è¾‘å™¨é€šä¿¡æ ‡å‡† | USB åè®® |
| **Client** | ç¼–è¾‘å™¨/IDEï¼Œæä¾›ç”¨æˆ·ç•Œé¢å’Œç¯å¢ƒæ§åˆ¶ | ç”µè„‘ä¸»æœº |
| **Agent** | AI ç¼–ç¨‹ä»£ç†ï¼Œè‡ªä¸»ä¿®æ”¹ä»£ç çš„ç¨‹åº | å¤–æ¥è®¾å¤‡ |
| **Session** | ä¸€æ¬¡å¯¹è¯ä¼šè¯ï¼ŒåŒ…å«å¤šè½®äº¤äº’ | è¿æ¥ä¼šè¯ |
| **Capability** | èƒ½åŠ›å£°æ˜ï¼ŒåŒæ–¹åå•†æ”¯æŒçš„åŠŸèƒ½ | è®¾å¤‡é©±åŠ¨ |

---

## çŸ¥è¯†æ¶æ„

### åè®®åˆ†å±‚å®šä½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åè®®ç”Ÿæ€å…¨æ™¯                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚   â”‚   MCP   â”‚    â”‚   ACP   â”‚    â”‚   A2A   â”‚            â”‚
â”‚   â”‚å·¥å…·è°ƒç”¨  â”‚    â”‚ç¼–è¾‘å™¨é€šä¿¡â”‚    â”‚Agentåä½œ â”‚            â”‚
â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜            â”‚
â”‚        â”‚              â”‚              â”‚                  â”‚
â”‚        â–¼              â–¼              â–¼                  â”‚
â”‚   å¤–éƒ¨å·¥å…·         ç¼–è¾‘å™¨          å…¶ä»–Agent            â”‚
â”‚   (DB/API)        (IDE)          (Multi-Agent)         â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

åˆ†å·¥ï¼š
- MCP â†’ Agent è°ƒç”¨å¤–éƒ¨å·¥å…·ï¼ˆæ•°æ®åº“ã€APIã€æ–‡ä»¶ç³»ç»Ÿ...ï¼‰
- ACP â†’ ç¼–è¾‘å™¨ä¸ Agent åŒå‘é€šä¿¡ï¼ˆæ–‡ä»¶æ“ä½œã€ç»ˆç«¯ã€UI...ï¼‰
- A2A â†’ Agent ä¹‹é—´åä½œï¼ˆä»»åŠ¡åˆ†å‘ã€ç»“æœæ±‡æ€»...ï¼‰
```

### ACP æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ACP é€šä¿¡æ¶æ„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚    â”‚   Client   â”‚â—„â”€â”€â”€â”€ ACP â”€â”€â”€â”€â–ºâ”‚   Agent    â”‚        â”‚
â”‚    â”‚  (ç¼–è¾‘å™¨)   â”‚   JSON-RPC    â”‚ (AI ä»£ç†)   â”‚        â”‚
â”‚    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚          â”‚                              â”‚               â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚    â”‚ æä¾›èƒ½åŠ›    â”‚                â”‚ è¯·æ±‚æ“ä½œ    â”‚        â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚    â”‚ â€¢ æ–‡ä»¶è¯»å†™  â”‚                â”‚ â€¢ ä»£ç ä¿®æ”¹  â”‚        â”‚
â”‚    â”‚ â€¢ ç»ˆç«¯æ‰§è¡Œ  â”‚                â”‚ â€¢ å‘½ä»¤æ‰§è¡Œ  â”‚        â”‚
â”‚    â”‚ â€¢ æƒé™æ§åˆ¶  â”‚                â”‚ â€¢ è¿›åº¦æŠ¥å‘Š  â”‚        â”‚
â”‚    â”‚ â€¢ UI å±•ç¤º   â”‚                â”‚ â€¢ å·¥å…·è°ƒç”¨  â”‚        â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                         â”‚
â”‚    ä¼ è¾“å±‚ï¼šæœ¬åœ° (stdio) / è¿œç¨‹ (HTTP/WebSocket)         â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¶ˆæ¯æµç¨‹å…¨æ™¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ACP å®Œæ•´äº¤äº’æµç¨‹                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  é˜¶æ®µ1: åˆå§‹åŒ–                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚
â”‚  Client â”€â”€[initialize]â”€â”€â–º Agent                        â”‚
â”‚         â—„â”€â”€[response]â”€â”€â”€â”€                              â”‚
â”‚  Client â”€â”€[authenticate]â”€â–º Agent (å¦‚éœ€è®¤è¯)            â”‚
â”‚                                                         â”‚
â”‚  é˜¶æ®µ2: ä¼šè¯è®¾ç½®                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚
â”‚  Client â”€â”€[session/new]â”€â”€â–º Agent    # æ–°å»ºä¼šè¯         â”‚
â”‚      æˆ– â”€â”€[session/load]â”€â–º Agent    # æ¢å¤ä¼šè¯         â”‚
â”‚                                                         â”‚
â”‚  é˜¶æ®µ3: æç¤ºè½®æ¬¡ (å¾ªç¯)                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚
â”‚  Client â”€â”€[session/prompt]â”€â”€â–º Agent  # å‘é€ç”¨æˆ·æ¶ˆæ¯    â”‚
â”‚         â—„â”€â”€[session/update]â”€â”€        # è¿›åº¦é€šçŸ¥        â”‚
â”‚         â—„â”€â”€[fs/read_text_file]â”€â”€     # è¯·æ±‚è¯»æ–‡ä»¶      â”‚
â”‚  Client â”€â”€[response]â”€â”€â”€â”€â”€â”€â–º          # è¿”å›æ–‡ä»¶å†…å®¹    â”‚
â”‚         â—„â”€â”€[request_permission]â”€â”€    # è¯·æ±‚æƒé™        â”‚
â”‚  Client â”€â”€[response]â”€â”€â”€â”€â”€â”€â–º          # ç”¨æˆ·æˆæƒ        â”‚
â”‚         â—„â”€â”€[fs/write_text_file]â”€â”€    # è¯·æ±‚å†™æ–‡ä»¶      â”‚
â”‚         â—„â”€â”€[session/prompt response]â”€ # è½®æ¬¡ç»“æŸ       â”‚
â”‚                                                         â”‚
â”‚  Client â”€â”€[session/cancel]â”€â”€â–º Agent  # å¯é€‰ï¼šå–æ¶ˆæ“ä½œ  â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ ¸å¿ƒè§„èŒƒè¯¦è§£

### 1. åˆå§‹åŒ–æ¡æ‰‹

åˆå§‹åŒ–æ˜¯å»ºç«‹è¿æ¥çš„ç¬¬ä¸€æ­¥ï¼ŒåŒæ–¹åå•†åè®®ç‰ˆæœ¬å’Œèƒ½åŠ›ã€‚

```typescript
// å®¢æˆ·ç«¯å‘èµ·åˆå§‹åŒ–è¯·æ±‚
interface InitializeRequest {
  protocolVersion: number;      // æ”¯æŒçš„æœ€æ–°åè®®ç‰ˆæœ¬
  clientCapabilities: {
    fs?: {
      readTextFile?: boolean;   // æ”¯æŒè¯»å–æ–‡ä»¶
      writeTextFile?: boolean;  // æ”¯æŒå†™å…¥æ–‡ä»¶
    };
    terminal?: boolean;         // æ”¯æŒç»ˆç«¯æ“ä½œ
  };
  clientInfo?: {
    name: string;               // å®¢æˆ·ç«¯åç§°
    title: string;              // æ˜¾ç¤ºåç§°
    version: string;            // ç‰ˆæœ¬å·
  };
}

// Agent è¿”å›åˆå§‹åŒ–å“åº”
interface InitializeResponse {
  protocolVersion: number;      // é€‰å®šçš„åè®®ç‰ˆæœ¬
  agentCapabilities: {
    loadSession?: boolean;      // æ”¯æŒåŠ è½½ä¼šè¯
    promptCapabilities?: {
      image?: boolean;          // æ”¯æŒå›¾ç‰‡
      audio?: boolean;          // æ”¯æŒéŸ³é¢‘
      embeddedContext?: boolean; // æ”¯æŒåµŒå…¥èµ„æº
    };
    mcp?: {
      http?: boolean;           // MCP HTTP ä¼ è¾“
      sse?: boolean;            // MCP SSE ä¼ è¾“
    };
  };
  agentInfo?: { name, title, version };
  authMethods?: string[];       // è®¤è¯æ–¹å¼
}
```

**ç‰ˆæœ¬åå•†è§„åˆ™**ï¼š
1. å®¢æˆ·ç«¯å‘é€æ”¯æŒçš„æœ€æ–°ç‰ˆæœ¬
2. Agent è¿”å›åŒæ–¹éƒ½æ”¯æŒçš„ç‰ˆæœ¬
3. ä¸å…¼å®¹æ—¶å®¢æˆ·ç«¯å…³é—­è¿æ¥å¹¶é€šçŸ¥ç”¨æˆ·

### 2. ä¼šè¯ç®¡ç†

```typescript
// åˆ›å»ºæ–°ä¼šè¯
interface SessionNewRequest {
  sessionId?: string;           // å¯é€‰æŒ‡å®š ID
}

// å‘é€æç¤º
interface SessionPromptRequest {
  sessionId: string;
  content: ContentBlock[];      // æ”¯æŒæ–‡æœ¬ã€å›¾ç‰‡ã€éŸ³é¢‘ç­‰
}

// ä¼šè¯æ›´æ–°é€šçŸ¥ (Agent â†’ Client)
interface SessionUpdateNotification {
  sessionId: string;
  update: 
    | { sessionUpdate: 'message_block', ... }
    | { sessionUpdate: 'tool_call', ... }
    | { sessionUpdate: 'plan', ... }
    | { sessionUpdate: 'mode_change', ... };
}
```

### 3. æ–‡ä»¶ç³»ç»Ÿæ¥å£

```typescript
// è¯»å–æ–‡ä»¶ (Agent è¯·æ±‚ â†’ Client æ‰§è¡Œ)
interface ReadTextFileRequest {
  sessionId: string;
  path: string;                 // å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„
  line?: number;                // èµ·å§‹è¡Œ (ä» 1 å¼€å§‹)
  limit?: number;               // è¯»å–è¡Œæ•°
}

// å†™å…¥æ–‡ä»¶
interface WriteTextFileRequest {
  sessionId: string;
  path: string;                 // æ–‡ä»¶ä¸å­˜åœ¨æ—¶è‡ªåŠ¨åˆ›å»º
  content: string;
}
```

**å…³é”®çº¦å®š**ï¼š
- æ–‡ä»¶è·¯å¾„**å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„**
- è¡Œå·**ä» 1 å¼€å§‹**ï¼ˆé 0ï¼‰
- æ–‡æœ¬æ ¼å¼é»˜è®¤ **Markdown**

### 4. å·¥å…·è°ƒç”¨æŠ¥å‘Š

Agent é€šè¿‡ `session/update` å‘å®¢æˆ·ç«¯æŠ¥å‘Šå·¥å…·è°ƒç”¨çŠ¶æ€ï¼š

```typescript
interface ToolCallUpdate {
  toolCallId: string;           // å”¯ä¸€æ ‡è¯†
  title: string;                // å¯è¯»æè¿°
  kind: 'read' | 'edit' | 'delete' | 'move' | 
        'search' | 'execute' | 'think' | 'fetch' | 'other';
  status: 'pending' | 'in_progress' | 'completed' | 'failed';
  content?: ContentBlock[];     // è¾“å‡ºå†…å®¹
  locations?: FileLocation[];   // å½±å“çš„æ–‡ä»¶ä½ç½®
}

// å·¥å…·çŠ¶æ€ç”Ÿå‘½å‘¨æœŸ
pending â†’ in_progress â†’ completed/failed
```

**å†…å®¹ç±»å‹æ”¯æŒ**ï¼š
- **å¸¸è§„å†…å®¹**ï¼šæ–‡æœ¬ã€å›¾ç‰‡ã€èµ„æºå—
- **Diffs**ï¼šä»£ç å·®å¼‚å±•ç¤ºï¼ˆoldText â†’ newTextï¼‰
- **Terminals**ï¼šå®æ—¶ç»ˆç«¯è¾“å‡º

### 5. æƒé™è¯·æ±‚

Agent æ‰§è¡Œæ•æ„Ÿæ“ä½œå‰è¯·æ±‚ç”¨æˆ·æˆæƒï¼š

```typescript
interface RequestPermissionRequest {
  sessionId: string;
  toolCall: ToolCallUpdate;
  options: Array<{
    optionId: string;
    name: string;               // "å…è®¸" / "æ‹’ç»"
    kind: 'allow_once' | 'allow_always' | 
          'reject_once' | 'reject_always';
  }>;
}

interface RequestPermissionResponse {
  outcome: 'selected' | 'cancelled';
  optionId?: string;            // ç”¨æˆ·é€‰æ‹©çš„é€‰é¡¹
}
```

---

## èƒ½åŠ›çŸ©é˜µ

### å®¢æˆ·ç«¯èƒ½åŠ› (Client Capabilities)

| èƒ½åŠ› | æ¥å£ | è¯´æ˜ |
|------|------|------|
| `fs.readTextFile` | `fs/read_text_file` | è¯»å–æ–‡ä»¶å†…å®¹ï¼ˆå«æœªä¿å­˜çŠ¶æ€ï¼‰ |
| `fs.writeTextFile` | `fs/write_text_file` | å†™å…¥æ–‡ä»¶ï¼ˆä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰ |
| `terminal` | `terminal/*` | ç»ˆç«¯åˆ›å»ºã€è¾“å‡ºã€é‡Šæ”¾ã€ç»ˆæ­¢ |

### Agent èƒ½åŠ› (Agent Capabilities)

| èƒ½åŠ› | è¯´æ˜ |
|------|------|
| `loadSession` | æ”¯æŒ `session/load` æ¢å¤ä¼šè¯ |
| `promptCapabilities.image` | æ”¯æŒå›¾ç‰‡å†…å®¹ |
| `promptCapabilities.audio` | æ”¯æŒéŸ³é¢‘å†…å®¹ |
| `promptCapabilities.embeddedContext` | æ”¯æŒåµŒå…¥èµ„æº |
| `mcp.http` | æ”¯æŒ HTTP è¿æ¥ MCP æœåŠ¡å™¨ |

---

## ACP vs MCP vs LSP å¯¹æ¯”

| ç»´åº¦ | ACP | MCP | LSP |
|------|-----|-----|-----|
| **å…¨ç§°** | Agent Client Protocol | Model Context Protocol | Language Server Protocol |
| **å®šä¹‰æ–¹** | Zed Industries | Anthropic | Microsoft |
| **è§£å†³é—®é¢˜** | Agent-ç¼–è¾‘å™¨é€šä¿¡ | LLM-å·¥å…·é€šä¿¡ | è¯­è¨€æœåŠ¡-ç¼–è¾‘å™¨é€šä¿¡ |
| **é€šä¿¡æ–¹** | Agent â†” Editor | Agent â†” Tools | Language Server â†” Editor |
| **ä¼ è¾“å±‚** | stdio / HTTP / WebSocket | stdio / HTTP | stdio / socket |
| **åŸºç¡€åè®®** | JSON-RPC 2.0 | JSON-RPC 2.0 | JSON-RPC 2.0 |
| **å…¸å‹åœºæ™¯** | Claude Code â†” Zed | Claude â†” æ•°æ®åº“ | TypeScript Server â†” VSCode |

**å…³ç³»å›¾**ï¼š
```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   ç¼–è¾‘å™¨    â”‚
                    â”‚ (Zed/VSCode)â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚            â”‚            â”‚
         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
         â”‚   LSP   â”‚  â”‚   ACP   â”‚  â”‚  MCP*   â”‚
         â”‚è¯­è¨€æœåŠ¡  â”‚  â”‚ Agent   â”‚  â”‚ å·¥å…·    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
                      â”‚   MCP   â”‚
                      â”‚ å¤–éƒ¨å·¥å…· â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

* ç¼–è¾‘å™¨ä¹Ÿå¯ç›´æ¥é›†æˆ MCP
```

---

## è®¾è®¡å“²å­¦

### 1. è§£å†³ NÃ—M é—®é¢˜

```
æ ‡å‡†åŒ–å‰ï¼š
â”œâ”€â”€ Cursor å›¢é˜Ÿå®ç° Claude é€‚é…å™¨
â”œâ”€â”€ Cursor å›¢é˜Ÿå®ç° GPT é€‚é…å™¨
â”œâ”€â”€ Zed å›¢é˜Ÿå®ç° Claude é€‚é…å™¨
â”œâ”€â”€ Zed å›¢é˜Ÿå®ç° GPT é€‚é…å™¨
â”œâ”€â”€ VSCode å›¢é˜Ÿå®ç° Claude é€‚é…å™¨
â””â”€â”€ ... N Ã— M ä¸ªé€‚é…å™¨

æ ‡å‡†åŒ–åï¼š
â”œâ”€â”€ Cursor å®ç° ACP Client
â”œâ”€â”€ Zed å®ç° ACP Client
â”œâ”€â”€ Claude å®ç° ACP Agent
â”œâ”€â”€ GPT å®ç° ACP Agent
â””â”€â”€ ... N + M ä¸ªå®ç°å³å¯äº’é€š
```

### 2. å®¢æˆ·ç«¯ä¸»æƒåŸåˆ™

- **ç”¨æˆ·ä¸»è¦åœ¨ç¼–è¾‘å™¨ä¸­å·¥ä½œ**ï¼ŒAgent è¢«"é‚€è¯·"ååŠ©
- **æƒé™ç”±å®¢æˆ·ç«¯æ§åˆ¶**ï¼ŒAgent å¿…é¡»è¯·æ±‚æˆæƒ
- **ç¯å¢ƒç”±å®¢æˆ·ç«¯ç®¡ç†**ï¼ŒAgent åªèƒ½é€šè¿‡æ¥å£è®¿é—®

### 3. æ¸è¿›å¼èƒ½åŠ›æ‰©å±•

```typescript
// ä½¿ç”¨ _meta æ·»åŠ è‡ªå®šä¹‰æ•°æ®
{
  "result": {
    "content": "...",
    "_meta": {
      "customField": "value"
    }
  }
}

// ä½¿ç”¨ _ å‰ç¼€åˆ›å»ºè‡ªå®šä¹‰æ–¹æ³•
"method": "_vendor/custom_method"

// åœ¨åˆå§‹åŒ–æ—¶é€šå‘Šè‡ªå®šä¹‰èƒ½åŠ›
"customCapabilities": { "vendor.feature": true }
```

---

## ç”Ÿæ€ç°çŠ¶

### SDK æ”¯æŒ

| è¯­è¨€ | çŠ¶æ€ | ç”¨é€” |
|------|------|------|
| TypeScript | âœ… å®˜æ–¹ | Client/Agent å®ç° |
| Rust | âœ… å®˜æ–¹ | Zed åŸç”Ÿæ”¯æŒ |
| Python | âœ… å®˜æ–¹ | Agent å¿«é€Ÿå¼€å‘ |
| Kotlin | âœ… å®˜æ–¹ | JVM ç”Ÿæ€ |
| Community | ğŸ”„ ç¤¾åŒº | å…¶ä»–è¯­è¨€ |

### å·²æ”¯æŒçš„ç¼–è¾‘å™¨

| ç¼–è¾‘å™¨ | ACP æ”¯æŒçŠ¶æ€ |
|--------|-------------|
| Zed | âœ… åŸç”Ÿæ”¯æŒï¼ˆä¸»å¯¼æ–¹ï¼‰ |
| VSCode | ğŸ”„ ç¤¾åŒºå¼€å‘ä¸­ |
| Cursor | ğŸ”„ è®¡åˆ’ä¸­ |

---

## å®ç”¨é€ŸæŸ¥

### å¿«é€Ÿé›†æˆæ¸…å•

```bash
# 1. æ£€æŸ¥ç¼–è¾‘å™¨æ˜¯å¦æ”¯æŒ ACP
# Zed: åŸç”Ÿæ”¯æŒï¼ŒSettings > Agent

# 2. é…ç½®å¤–éƒ¨ Agent
# Zed settings.json
{
  "agent": {
    "external_agents": [
      {
        "name": "my-agent",
        "command": ["path/to/agent"],
        "args": []
      }
    ]
  }
}

# 3. å®ç° Agent (ä¼ªä»£ç )
class MyAgent:
    def initialize(self, request):
        return {
            "protocolVersion": 1,
            "agentCapabilities": {...}
        }
    
    def session_prompt(self, request):
        # å¤„ç†ç”¨æˆ·æ¶ˆæ¯
        # è°ƒç”¨ fs/read_text_file è¯»å–æ–‡ä»¶
        # è°ƒç”¨ fs/write_text_file å†™å…¥ä¿®æ”¹
        # å‘é€ session/update æŠ¥å‘Šè¿›åº¦
        pass
```

### å…³é”®çº¦å®šé€Ÿè®°

| çº¦å®š | è§„åˆ™ |
|------|------|
| æ–‡ä»¶è·¯å¾„ | **å¿…é¡»ç»å¯¹è·¯å¾„** |
| è¡Œå· | **ä» 1 å¼€å§‹** |
| æ–‡æœ¬æ ¼å¼ | **é»˜è®¤ Markdown** |
| é€šä¿¡åè®® | **JSON-RPC 2.0** |
| ä¼ è¾“å±‚ | stdioï¼ˆæœ¬åœ°ï¼‰/ HTTP/WSï¼ˆè¿œç¨‹ï¼‰ |

---

## è¡ŒåŠ¨æ¸…å•

### ç«‹å³å¯åšï¼ˆä»Šå¤©ï¼‰
- [ ] é˜…è¯» ACP å®˜æ–¹æ–‡æ¡£ï¼šhttps://agentclientprotocol.com/ï¼ˆâ±ï¸ 30 åˆ†é’Ÿï¼‰
- [ ] ä¸‹è½½ Zed ä½“éªŒåŸç”Ÿ ACP æ”¯æŒï¼šhttps://zed.dev/downloadï¼ˆâ±ï¸ 5 åˆ†é’Ÿï¼‰

### çŸ­æœŸå®è·µï¼ˆæœ¬å‘¨ï¼‰
- [ ] ç”¨ Python SDK å®ç°ä¸€ä¸ªç®€å•çš„ ACP Agentï¼ˆâ±ï¸ 2 å°æ—¶ï¼‰
- [ ] åœ¨ Zed ä¸­é…ç½®å¤–éƒ¨ Agent å¹¶æµ‹è¯•é€šä¿¡ï¼ˆâ±ï¸ 1 å°æ—¶ï¼‰
- [ ] ç ”ç©¶ ACP + MCP ç»„åˆä½¿ç”¨æ¨¡å¼ï¼ˆâ±ï¸ 1 å°æ—¶ï¼‰

### é•¿æœŸå…³æ³¨ï¼ˆæŒç»­ï¼‰
- [ ] è·Ÿè¸ª ACP åè®®ç‰ˆæœ¬æ¼”è¿›
- [ ] å…³æ³¨ VSCode/Cursor çš„ ACP æ”¯æŒè¿›å±•
- [ ] è€ƒè™‘ä¸ºè‡ªå·±çš„å·¥å…·å®ç° ACP é›†æˆ

---

## é‡‘å¥æ‘˜å½•

> "ACP ä¹‹äº Agentï¼Œå°±åƒ LSP ä¹‹äºè¯­è¨€æœåŠ¡å™¨â€”â€”å®šä¹‰æ ‡å‡†æ¥å£ï¼Œè®©ç”Ÿæ€ç¹è£ã€‚"

> "N ä¸ªç¼–è¾‘å™¨ Ã— M ä¸ª Agent = NÃ—M ä¸ªé€‚é…å™¨ï¼›æ ‡å‡†åŒ–å = N + M ä¸ªå®ç°å³å¯äº’é€šã€‚"

> "ç”¨æˆ·ä¸»è¦åœ¨ç¼–è¾‘å™¨ä¸­å·¥ä½œï¼ŒAgent è¢«é‚€è¯·ååŠ©â€”â€”è¿™æ˜¯ ACP çš„æ ¸å¿ƒå‡è®¾ã€‚"

---

## å»¶ä¼¸é˜…è¯»

- [ACP å®˜æ–¹è§„èŒƒ](https://agentclientprotocol.com/) - Agent Client Protocol å®Œæ•´æ–‡æ¡£
- [MCP åè®®](https://modelcontextprotocol.io/) - Model Context Protocol å®˜æ–¹æ–‡æ¡£
- [LSP è§„èŒƒ](https://microsoft.github.io/language-server-protocol/) - ACP è®¾è®¡çµæ„Ÿæ¥æº
- [Zed æ–‡æ¡£](https://zed.dev/docs/) - é¦–ä¸ªåŸç”Ÿæ”¯æŒ ACP çš„ç¼–è¾‘å™¨
- [A2A åè®®](https://google.github.io/A2A/) - Google çš„ Agent-to-Agent åè®®

---

## ä¸ªäººæ€è€ƒ

{ç•™ç©ºï¼Œä¾›åç»­è¡¥å……}
